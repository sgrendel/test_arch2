<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ê—Ä—Ö–µ—Ç–∏–ø–∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* –û–±—â–∏–π —Å—Ç–∏–ª—å */
        body {
            font-family: 'Raleway', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(180deg, #FFD1DC, #C3E8FF);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 {
            font-size: 2.8rem;
            margin-top: 20px;
            text-align: center;
        }

        .spacer {
            height: 1rem;
        }

        .intro, .test-description {
            font-size: 1.2rem;
            line-height: 1.8;
            text-align: justify;
            margin-bottom: 1rem;
            width: 90%;
            max-width: 650px;
        }

        .start-btn {
            display: inline-block;
            background-color: #FFB6C1;
            color: #fff;
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 700;
            padding: 15px 30px;
            border-radius: 30px;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .start-btn:hover {
            background-color: #FFA6B8;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none; /* –°–∫—Ä—ã—Ç–æ –¥–æ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ */
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .test-card {
            background: #fff;
            border-radius: 20px;
            padding: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .page-counter {
            font-size: 1rem;
            color: #666;
            margin-bottom: 10px;
        }

        .question {
            margin: 20px 0;
        }

        .options {
            display: flex;
            justify-content: space-around;
            margin: 10px 0;
        }

        .option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            margin: 5px;
            padding: 10px;
            border: 2px solid transparent;
            border-radius: 10px;
            transition: border-color 0.3s ease;
        }

        .option img {
            width: 50px;
            height: 50px;
        }

        .option span {
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .option.selected {
            border-color: #FFA6B8;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .button {
            background-color: #FFB6C1;
            color: #fff;
            font-size: 1rem;
            font-weight: 700;
            padding: 10px 20px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .button:hover:not(:disabled) {
            background-color: #FFA6B8;
        }
    </style>
</head>
<body>
    <h1>–û–ø—Ä–µ–¥–µ–ª–∏ —Å–≤–æ–π –ê—Ä—Ö–µ—Ç–∏–ø!</h1>
    <div class="spacer"></div>
    <div class="intro">
        <p>–ê—Ä—Ö–µ—Ç–∏–ø—ã ‚Äî —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∂–∏–≤—É—â–∏–µ –≤ –∫–∞–∂–¥–æ–º –∏–∑ –Ω–∞—Å. –û–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –Ω–∞—à–∏ –º–æ—Ç–∏–≤—ã, –≤—ã–±–æ—Ä—ã –∏ —Å–ø–æ—Å–æ–±—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –º–∏—Ä–æ–º. –ó–Ω–∞—è —Å–≤–æ–π –∞—Ä—Ö–µ—Ç–∏–ø, –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤–∞—Å –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç, –∫–∞–∫–∏–µ —Ü–µ–ª–∏ –≤–∞—Å –ø—Ä–∏—Ç—è–≥–∏–≤–∞—é—Ç –∏ –∫–∞–∫ –ª—É—á—à–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª.</p>
    </div>
    <div class="test-description">
        <p>–¢–µ—Å—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è 48 –≤–æ–ø—Ä–æ—Å–æ–≤, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –Ω–∏—Ö –±—ã—Å—Ç—Ä–æ –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ. –ì–æ—Ç–æ–≤—ã? –¢–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ–º!</p>
    </div>
    <button class="start-btn" onclick="startTest()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>

    <div class="overlay" id="test-overlay">
        <div class="test-card">
            <div class="page-counter">–°—Ç—Ä–∞–Ω–∏—Ü–∞ <span id="page-number">1</span> –∏–∑ 12</div>
            <div id="questions-container"></div>
            <div class="buttons">
                <button class="button" id="prev-button" disabled>–ù–∞–∑–∞–¥</button>
                <button class="button" id="next-button" disabled>–î–∞–ª–µ–µ</button>
                <button class="button" id="result-button" style="display: none;" disabled>–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
            </div>
        </div>
    </div>

    <script>
        const archetypes = [
            "–ú–∞–≥",
            "–°–ª–∞–≤–Ω—ã–π –º–∞–ª—ã–π",
            "–î–∏—Ç—è",
            "–ò—Å–∫–∞—Ç–µ–ª—å",
            "–¢–≤–æ—Ä–µ—Ü",
            "–ì–µ—Ä–æ–π",
            "–ë—É–Ω—Ç–∞—Ä—å",
            "–õ—é–±–æ–≤–Ω–∏–∫",
            "–®—É—Ç",
            "–û–ø–µ–∫—É–Ω",
            "–ü—Ä–∞–≤–∏—Ç–µ–ª—å",
            "–ú—É–¥—Ä–µ—Ü",
        ];

        const questions = [
            { text: "–Ø –≤–µ—Ä—é, —á—Ç–æ –º–æ–≥—É –≤–ª–∏—è—Ç—å –Ω–∞ —Å–≤–æ—é —Å—É–¥—å–±—É.", archetype: "–ú–∞–≥" },
            { text: "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º –ª—é–¥—è–º –≤–∏–¥–µ—Ç—å —Å–∫—Ä—ã—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.", archetype: "–ú–∞–≥" },
            { text: "–Ø –ª—é–±–ª—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–ø–æ—Å–æ–±—ã —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º.", archetype: "–ú–∞–≥" },
            { text: "–ò–Ω–æ–≥–¥–∞ –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —è –ø–æ–Ω–∏–º–∞—é, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ –í—Å–µ–ª–µ–Ω–Ω–∞—è.", archetype: "–ú–∞–≥" },
            { text: "–Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ, –∫–æ–≥–¥–∞ –º–µ–Ω—è –ø—Ä–∏–Ω–∏–º–∞—é—Ç –≤ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–µ.", archetype: "–°–ª–∞–≤–Ω—ã–π –º–∞–ª—ã–π" },
            { text: "–Ø —Å—Ç–∞—Ä–∞—é—Å—å –±—ã—Ç—å —Ç–∞–∫–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º, –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ –¥–æ–≤–µ—Ä—è—Ç—å.", archetype: "–°–ª–∞–≤–Ω—ã–π –º–∞–ª—ã–π" },
            { text: "–ú–Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤ –≥—Ä—É–ø–ø–µ –≤—Å–µ –±—ã–ª–∏ —Ä–∞–≤–Ω—ã.", archetype: "–°–ª–∞–≤–Ω—ã–π –º–∞–ª—ã–π" },
            { text: "–Ø –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –∏–∑–±–µ–≥–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Ä–∞–¥–∏ –≥–∞—Ä–º–æ–Ω–∏–∏.", archetype: "–°–ª–∞–≤–Ω—ã–π –º–∞–ª—ã–π" },
            // –î–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
        ];

        const answers = [
            { emoji: "üòÑ", label: "–≠—Ç–æ —è", score: 2 },
            { emoji: "üôÇ", label: "–°–∫–æ—Ä–µ–µ —è", score: 1 },
            { emoji: "üòê", label: "–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ", score: 0 },
            { emoji: "üôÅ", label: "–°–∫–æ—Ä–µ–µ –Ω–µ —è", score: -1 },
            { emoji: "üò°", label: "–ù–µ —è", score: -2 },
        ];

        const totalPages = 12;
        const questionsPerPage = 4;

        let currentPage = 1;
        let selectedAnswers = {};
        let archetypeScores = archetypes.reduce((acc, archetype) => {
            acc[archetype] = 0;
            return acc;
        }, {});

        const shuffledQuestions = questions.sort(() => Math.random() - 0.5);

        const startTest = () => {
            document.getElementById("test-overlay").style.display = "flex";
        };

        const updatePage = () => {
            const start = (currentPage - 1) * questionsPerPage;
            const end = start + questionsPerPage;
            const currentQuestions = shuffledQuestions.slice(start, end);

            document.getElementById("page-number").innerText = currentPage;

            const container = document.getElementById("questions-container");
            container.innerHTML = "";

            currentQuestions.forEach((question, index) => {
                const questionId = start + index;
                const questionElement = document.createElement("div");
                questionElement.classList.add("question");

                questionElement.innerHTML = `
                    <div>${question.text}</div>
                    <div class="options">
                        ${answers
                            .map(
                                (answer, idx) => `
                            <div class="option" data-question-id="${questionId}" data-answer="${answer.score}" data-archetype="${question.archetype}">
                                <img src="https://via.placeholder.com/50" alt="${answer.label}">
                                <span>${answer.label}</span>
                            </div>
                        `
                            )
                            .join("")}
                    </div>
                `;

                container.appendChild(questionElement);
            });

            document.querySelectorAll(".option").forEach((option) => {
                option.addEventListener("click", () => {
                    const questionId = option.dataset.questionId;
                    const archetype = option.dataset.archetype;
                    const score = parseInt(option.dataset.answer);

                    document
                        .querySelectorAll(`[data-question-id="${questionId}"]`)
                        .forEach((opt) => opt.classList.remove("selected"));

                    option.classList.add("selected");
                    selectedAnswers[questionId] = { archetype, score };

                    validatePage();
                });
            });

            document.getElementById("prev-button").disabled = currentPage === 1;
            document.getElementById("next-button").style.display = currentPage < totalPages ? "inline-block" : "none";
            document.getElementById("result-button").style.display = currentPage === totalPages ? "inline-block" : "none";
        };

        const validatePage = () => {
            const start = (currentPage - 1) * questionsPerPage;
            const end = start + questionsPerPage;
            const allAnswered = Array.from({ length: questionsPerPage }, (_, i) => start + i).every(
                (id) => selectedAnswers[id] !== undefined
            );

            if (currentPage === totalPages) {
                document.getElementById("result-button").disabled = !allAnswered;
            } else {
                document.getElementById("next-button").disabled = !allAnswered;
            }
        };

        const calculateResults = () => {
            for (const answer of Object.values(selectedAnswers)) {
                archetypeScores[answer.archetype] += answer.score;
            }

            const dominantArchetype = Object.entries(archetypeScores).reduce((max, current) => {
                return current[1] > max[1] ? current : max;
            });

            alert(`–í–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π –∞—Ä—Ö–µ—Ç–∏–ø: ${dominantArchetype[0]} (${dominantArchetype[1]} –±–∞–ª–ª–æ–≤).`);
        };

        document.getElementById("prev-button").addEventListener("click", () => {
            if (currentPage > 1) {
                currentPage--;
                updatePage();
            }
        });

        document.getElementById("next-button").addEventListener("click", () => {
            if (currentPage < totalPages) {
                currentPage++;
                updatePage();
            }
        });

        document.getElementById("result-button").addEventListener("click", calculateResults);

        updatePage();
    </script>
</body>
</html>
